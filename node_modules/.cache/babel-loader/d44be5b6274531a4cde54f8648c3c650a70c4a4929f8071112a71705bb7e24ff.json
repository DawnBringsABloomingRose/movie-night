{"ast":null,"code":"var _jsxFileName = \"/home/emily/Documents/programming/rails/movie-night/app/javascript/components/Header.jsx\";\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport React from \"react\";\nimport { message, Button, Space } from \"antd\";\nimport { SearchOutlined } from '@ant-design/icons';\nimport AddBlock from \"./AddBlock\";\nvar Header = /*#__PURE__*/function (_React$Component) {\n  _inherits(Header, _React$Component);\n  var _super = _createSuper(Header);\n  function Header(props) {\n    var _this;\n    _classCallCheck(this, Header);\n    _this = _super.call(this, props);\n    _this.state = {\n      location: \"home\"\n    };\n    var searchQuery = \"\";\n    _this.searchResults = \"\";\n    _this.location = \"home\";\n    return _this;\n  }\n  _createClass(Header, [{\n    key: \"getSearchResults\",\n    value: function getSearchResults(e) {\n      var _this2 = this;\n      e.preventDefault();\n      var results;\n      var query = new FormData(e.target).get(\"movie_name\");\n      console.log(query);\n      var url = \"search?movie_name=\" + query + '&format=json';\n      fetch(url).then(function (data) {\n        if (data.ok) {\n          return data.json();\n        }\n        throw new Error(\"Network error.\");\n      }).then(function (data) {\n        results = data;\n        _this2.searchResults = data;\n        _this2.location = \"search\";\n        _this2.setState(function (prevState) {\n          return {\n            searchResults: data,\n            location: \"search\"\n          };\n        });\n        _this2.props.sendResults(data);\n        _this2.props.sendLocation(\"search\");\n      })[\"catch\"](function (err) {\n        return message.error(\"Error: \" + err);\n      });\n    }\n  }, {\n    key: \"backToHome\",\n    value: function backToHome() {\n      this.setState(function (prevState) {\n        return {\n          location: \"home\"\n        };\n      });\n      this.props.sendLocation(\"home\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //this.props.sendLocation(this.state.location);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Space, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: this.backToHome.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      }, \"Home\"), /*#__PURE__*/React.createElement(AddBlock, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Space, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        method: \"post\",\n        onSubmit: this.getSearchResults.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Space, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"movie_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 16\n        }\n      }, \"Movie Name Or TMDB ID: \", /*#__PURE__*/React.createElement(\"input\", {\n        name: \"movie_name\",\n        type: \"text\",\n        id: \"movie_name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 42\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        shape: \"circle\",\n        icon: /*#__PURE__*/React.createElement(SearchOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 61\n          }\n        }),\n        htmlType: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      })))));\n    }\n  }]);\n  return Header;\n}(React.Component);\nexport default Header;","map":{"version":3,"names":["React","message","Button","Space","SearchOutlined","AddBlock","Header","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","location","searchQuery","searchResults","_createClass","key","value","getSearchResults","e","_this2","preventDefault","results","query","FormData","target","get","console","log","url","fetch","then","data","ok","json","Error","setState","prevState","sendResults","sendLocation","err","error","backToHome","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","bind","method","onSubmit","htmlFor","name","id","shape","icon","htmlType","Component"],"sources":["/home/emily/Documents/programming/rails/movie-night/app/javascript/components/Header.jsx"],"sourcesContent":["import React from \"react\";\nimport {message, Button, Space} from \"antd\";\nimport { SearchOutlined } from '@ant-design/icons';\nimport AddBlock from \"./AddBlock\";\n\nclass Header extends React.Component {\n    constructor(props){\n        super(props);\n        var searchQuery = \"\";\n        this.searchResults = \"\";\n        this.location = \"home\";\n    }\n    state = {\n      location: \"home\",\n    }\n\n    getSearchResults(e) {\n        e.preventDefault();\n        var results;\n        var query = new FormData(e.target).get(\"movie_name\");\n        console.log(query);\n        const url = \"search?movie_name=\" + query + '&format=json';\n        fetch(url)\n            .then((data) => {\n            if (data.ok) {\n          return data.json();\n        }\n        throw new Error(\"Network error.\");\n      })\n      .then((data) => {\n        results = data;\n        this.searchResults = data;\n        this.location = \"search\";\n        this.setState((prevState) => ({\n          searchResults: data,\n          location: \"search\", }))\n        this.props.sendResults(data);\n        this.props.sendLocation(\"search\");\n      })\n      .catch((err) => message.error(\"Error: \" + err));\n    }\n\n    backToHome() {\n      this.setState((prevState) => ({\n        location: \"home\",\n      }))\n\n      this.props.sendLocation(\"home\");\n    }\n\n    render() {\n      //this.props.sendLocation(this.state.location);\n        return (<div className=\"header\">\n          <Space>\n            <Button type=\"primary\" onClick={this.backToHome.bind(this)}>Home</Button>\n            <AddBlock />\n          </Space>\n          <br />\n          <Space>\n            <form method=\"post\" onSubmit={this.getSearchResults.bind(this)}>\n              <Space>\n               <label htmlFor=\"movie_name\">\n                  Movie Name Or TMDB ID: <input name=\"movie_name\" type=\"text\" id=\"movie_name\" />\n                </label>\n                <Button type=\"primary\" shape=\"circle\" icon={<SearchOutlined />} htmlType=\"submit\"/></Space>\n            </form>\n          </Space>\n        </div>)\n    }\n}\n\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}